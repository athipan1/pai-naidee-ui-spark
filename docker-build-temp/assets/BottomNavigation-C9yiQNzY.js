import{j as e}from"./ui-CYJXyMFH.js";import{r as a}from"./vendor-BtPQM8GQ.js";import{B as s}from"./index-B3OkbNa5.js";import{c as t,L as n}from"./router-BKNbbwl4.js";import{aT as i,a2 as r,aU as l,C as o,d,X as c,aV as m,aE as h,W as x,f as u,K as p,I as f}from"./icons-Dm8dLJzq.js";import{D as g,a as v,b as j,c as b}from"./dropdown-menu-CGE9erBO.js";import{B as N}from"./badge-MTT6vMtQ.js";import{s as w}from"./EnhancedToast-DoTOKRv_.js";const y=({className:t="",size:n="md",variant:l="ghost"})=>{const[o,d]=a.useState(!1);a.useEffect(()=>{const e="dark"===localStorage.getItem("theme")||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches;d(e),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const c={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return e.jsx(s,{variant:l,size:"md"===n?"default":n,onClick:()=>{const e=!o;d(e),e?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},className:`interactive-scale transition-all duration-300 ${t}`,"aria-label":o?"Switch to light mode":"Switch to dark mode",children:e.jsxs("div",{className:"relative",children:[e.jsx(i,{className:`${c[n]} transition-all duration-500 ${o?"rotate-90 scale-0 opacity-0":"rotate-0 scale-100 opacity-100"}`}),e.jsx(r,{className:`${c[n]} absolute inset-0 transition-all duration-500 ${o?"rotate-0 scale-100 opacity-100":"-rotate-90 scale-0 opacity-0"}`})]})})},C=[{code:"en",name:"English",nativeName:"English",flag:"🇺🇸"},{code:"th",name:"Thai",nativeName:"ไทย",flag:"🇹🇭"}],k=({currentLanguage:a,onLanguageChange:t,variant:n="dropdown",size:i="md",showFlag:r=!0,showName:d=!0,className:c=""})=>{const m=C.find(e=>e.code===a),h=C.find(e=>e.code!==a),x=e=>{if(e!==a){t(e);const a=C.find(a=>a.code===e);a&&w.languageChanged(a.nativeName)}},u={sm:"h-8 px-2 text-xs",md:"h-9 px-3 text-sm",lg:"h-10 px-4 text-base"};return"button"===n?e.jsxs(s,{variant:"outline",size:"md"===i?"default":i,onClick:()=>x((null==h?void 0:h.code)||"en"),className:`flex items-center gap-2 ${u[i]} ${c}`,"aria-label":`Switch to ${null==h?void 0:h.nativeName}`,title:`Switch to ${null==h?void 0:h.nativeName}`,children:[r&&e.jsx("span",{className:"text-sm",role:"img","aria-hidden":"true",children:null==m?void 0:m.flag}),d&&e.jsx("span",{className:"font-medium",children:null==m?void 0:m.code.toUpperCase()})]}):e.jsxs(g,{children:[e.jsx(v,{asChild:!0,children:e.jsxs(s,{variant:"outline",size:"md"===i?"default":i,className:`flex items-center gap-2 ${u[i]} ${c}`,"aria-label":"Change language","aria-haspopup":"menu","aria-expanded":"false",children:[r&&e.jsx("span",{className:"text-sm",role:"img","aria-hidden":"true",children:null==m?void 0:m.flag}),d&&e.jsx("span",{className:"font-medium",children:null==m?void 0:m.nativeName}),e.jsx(l,{className:"h-3 w-3 opacity-70"})]})}),e.jsx(j,{align:"end",className:"w-48",children:C.map(s=>e.jsxs(b,{onClick:()=>x(s.code),className:"flex items-center justify-between cursor-pointer",disabled:s.code===a,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-base",role:"img","aria-hidden":"true",children:s.flag}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:s.nativeName}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.name})]})]}),s.code===a&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(o,{className:"h-3 w-3 text-primary"}),e.jsx(N,{variant:"secondary",className:"text-xs",children:"Current"})]})]},s.code))})]})},$=({currentLanguage:i,onLanguageChange:r})=>{const[l,o]=a.useState(!1),h=t(),x=[{label:"th"===i?"หน้าแรก":"Home",href:"/"},{label:"th"===i?"สำรวจ":"Explore",href:"/explore"},{label:"th"===i?"ชุมชนนักเดินทาง":"Community",href:"/community"},{label:"th"===i?"รายการโปรด":"Favorites",href:"/favorites"},{label:"th"===i?"โปรไฟล์":"Profile",href:"/profile"}],u=e=>"/"===e?"/"===h.pathname:h.pathname.startsWith(e);return e.jsxs("header",{className:"sticky top-0 z-50 w-full glass-effect border-b border-white/20 shadow-lg safe-area-top",children:[e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs(n,{to:"/",className:"flex items-center space-x-2 interactive-scale","aria-label":"th"===i?"ไปไหนดี - หน้าแรก":"PaiNaiDee - Home",children:[e.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center shadow-lg neon-glow",children:e.jsx(d,{className:"w-6 h-6 text-white animate-float"})}),e.jsx("h1",{className:"text-xl font-bold text-gradient-tropical font-noto-thai",children:"th"===i?"ไปไหนดี":"PaiNaiDee"})]}),e.jsx("nav",{className:"hidden md:flex items-center space-x-6","aria-label":"th"===i?"เมนูหลัก":"Main navigation",children:x.map((a,s)=>e.jsxs(n,{to:a.href,className:"text-muted-foreground hover:text-primary transition-all duration-300 font-medium px-3 py-2 rounded-lg relative overflow-hidden "+(u(a.href)?"text-primary font-semibold bg-primary/10":""),children:[e.jsx("span",{className:"relative z-10",children:a.label}),e.jsx("div",{className:"absolute inset-0 bg-primary/10 scale-0 hover:scale-100 transition-transform duration-300 rounded-lg"})]},s))}),e.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[e.jsx(k,{currentLanguage:i,onLanguageChange:r,variant:"dropdown",size:"sm"}),e.jsx(y,{})]}),e.jsxs("div",{className:"flex items-center space-x-3 md:hidden",children:[e.jsx(y,{className:"hidden sm:flex"}),e.jsx(s,{variant:"ghost",size:"sm",onClick:()=>o(!l),className:"rounded-xl","aria-label":l?"Close menu":"Open menu","aria-expanded":l,children:l?e.jsx(c,{className:"w-5 h-5"}):e.jsx(m,{className:"w-5 h-5"})})]})]}),l&&e.jsx("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-card/95 backdrop-blur-md border-b border-border/50 shadow-lg animate-fade-in",children:e.jsxs("nav",{className:"container mx-auto px-4 py-4 space-y-4",children:[x.map((a,s)=>e.jsx(n,{to:a.href,className:"block py-2 text-muted-foreground hover:text-primary transition-colors duration-300 font-medium "+(u(a.href)?"text-primary font-semibold":""),onClick:()=>o(!1),children:a.label},s)),!1,e.jsx("div",{className:"pt-4 border-t border-border/30",children:e.jsx(k,{currentLanguage:i,onLanguageChange:e=>{r(e),o(!1)},variant:"dropdown",size:"sm",className:"w-full justify-center"})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(y,{size:"sm"})})]})})]})},L=({currentLanguage:s})=>{const i=t(),r=(()=>{const[e,s]=a.useState(!1);return a.useEffect(()=>{const e="true"===localStorage.getItem("isAdmin")||!1;s(e)},[]),e})(),l=[{id:"discover",path:"/discover",label:{th:"สำรวจ",en:"Discover"},icon:h},{id:"community",path:"/community",label:{th:"ชุมชน",en:"Community"},icon:x},{id:"saved",path:"/saved",label:{th:"บันทึก",en:"Saved"},icon:u},{id:"me",path:"/me",label:{th:"ฉัน",en:"Me"},icon:p}],o=r?[...l,{id:"admin",path:"/admin",label:{th:"แอดมิน",en:"Admin"},icon:f}]:l;return e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 glass-effect border-t border-white/20 safe-area-bottom",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"flex items-center justify-around py-2 "+(r?"grid grid-cols-5":""),children:o.map(a=>{const t=a.icon,r="/discover"===(l=a.path)?"/"===i.pathname||"/discover"===i.pathname||i.pathname.startsWith("/category")||i.pathname.startsWith("/explore")||i.pathname.startsWith("/search")||i.pathname.startsWith("/map"):"/saved"===l?i.pathname.startsWith("/saved")||i.pathname.startsWith("/favorites"):"/me"===l?i.pathname.startsWith("/profile")||"/me"===i.pathname:i.pathname.startsWith(l);var l;return e.jsxs(n,{to:a.path,className:`\n                  flex flex-col items-center space-y-1 p-3 rounded-xl transition-all duration-500 min-w-[70px] relative overflow-hidden interactive-scale\n                  ${r?"text-primary bg-primary/20 shadow-lg":"text-muted-foreground hover:text-primary hover:bg-accent/30"}\n                  ${"admin"===a.id?"text-orange-600":""}\n                `,children:[e.jsx("div",{className:"nav-icon transition-all duration-300 "+(r?"scale-110 animate-bounce":""),children:e.jsx(t,{className:`w-6 h-6 ${r?"drop-shadow-md":""} ${"admin"===a.id?"text-orange-600":""}`})}),e.jsx("span",{className:`text-xs font-medium transition-all duration-300 ${r?"font-semibold":""} ${"admin"===a.id?"text-orange-600":""}`,children:a.label[s]}),r&&e.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse shadow-lg "+("admin"===a.id?"bg-orange-600":"bg-primary")})}),"admin"===a.id&&e.jsx("div",{className:"absolute -top-1 -right-1",children:e.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded-full border border-background"})}),e.jsx("div",{className:"absolute inset-0 rounded-xl opacity-0 hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent rounded-xl"})})]},a.id)})})})})};export{L as B,$ as H};
