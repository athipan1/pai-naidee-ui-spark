import{j as a,c as e,P as r,f as s,h as o}from"./ui-CYJXyMFH.js";import{r as t}from"./vendor-BtPQM8GQ.js";import{c as l}from"./index-B3OkbNa5.js";var n="Avatar",[d,i]=e(n),[f,c]=d(n),u=t.forwardRef((e,s)=>{const{__scopeAvatar:o,...l}=e,[n,d]=t.useState("idle");return a.jsx(f,{scope:o,imageLoadingStatus:n,onImageLoadingStatusChange:d,children:a.jsx(r.span,{...l,ref:s})})});u.displayName=n;var m="AvatarImage",p=t.forwardRef((e,l)=>{const{__scopeAvatar:n,src:d,onLoadingStatusChange:i=()=>{},...f}=e,u=c(m,n),p=function(a,e){const[r,s]=t.useState("idle");return o(()=>{if(!a)return void s("error");let r=!0;const o=new window.Image,t=a=>()=>{r&&s(a)};return s("loading"),o.onload=t("loaded"),o.onerror=t("error"),o.src=a,e&&(o.referrerPolicy=e),()=>{r=!1}},[a,e]),r}(d,f.referrerPolicy),g=s(a=>{i(a),u.onImageLoadingStatusChange(a)});return o(()=>{"idle"!==p&&g(p)},[p,g]),"loaded"===p?a.jsx(r.img,{...f,ref:l,src:d}):null});p.displayName=m;var g="AvatarFallback",w=t.forwardRef((e,s)=>{const{__scopeAvatar:o,delayMs:l,...n}=e,d=c(g,o),[i,f]=t.useState(void 0===l);return t.useEffect(()=>{if(void 0!==l){const a=window.setTimeout(()=>f(!0),l);return()=>window.clearTimeout(a)}},[l]),i&&"loaded"!==d.imageLoadingStatus?a.jsx(r.span,{...n,ref:s}):null});w.displayName=g;var v=u,N=p,y=w;const j=t.forwardRef(({className:e,...r},s)=>a.jsx(v,{ref:s,className:l("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));j.displayName=v.displayName;const x=t.forwardRef(({className:e,...r},s)=>a.jsx(N,{ref:s,className:l("aspect-square h-full w-full",e),...r}));x.displayName=N.displayName;const h=t.forwardRef(({className:e,...r},s)=>a.jsx(y,{ref:s,className:l("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));h.displayName=y.displayName;export{j as A,x as a,h as b};
